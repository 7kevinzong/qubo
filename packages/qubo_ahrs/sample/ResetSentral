SInt32 ResetSentral(UInt8 command)
{
   UInt8 ReturnedByte = 0x00, temp[1], boot_timeout = FALSE, count = 0x00;
   SInt8 ret_status = 0x00;
   ret_status = SentralRead(REVISION_ID_REG, &ReturnedByte);//read back sentral
   ROM revision, todo display over uart
   if (ret_status == TRUE) {
      I2CWrite(SENTRAL_ADDRESS,RESET_REQ_REG, 0x01);
      // Check sentral's status register to see if it has booted successfully.
      // Times out after 3 seconds.
      while (((ReturnedByte & 0x06) != 2) && (boot_timeout == FALSE)) {
         SentralRead(SENTRAL_STATUS_REG, &ReturnedByte);
         count++;
         if (count == 30)
            boot_timeout = TRUE;
            Clock_Wait(100);
      }
      if (boot_timeout) {
         PrintChars("Timeout occurred, sentral not present or took too long to
         boot from the EEPROMn");
         return RETURN_FAILURE;
      }
      else {
         PrintChars("Boot from EEPROM successful n");
         return Setup_Sentral();
      }
   }
   PrintChars("Sentral not detectd! n");
   return RETURN_FAILURE;
}
